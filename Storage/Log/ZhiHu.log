{"level":"INFO","time":"2026-02-18 16:29:50.552","caller":"runtime/proc.go:285","msg":"init success"}
{"level":"INFO","time":"2026-02-18 16:33:19.832","caller":"gin@v1.11.0/context.go:192","msg":"login","username":"test1","status":"success"}
{"level":"INFO","time":"2026-02-18 16:35:03.562","caller":"Auth/AuthUser.go:23","msg":"CheckToken","JWT声明:":{"name":"test1","registered_claims":{"iss":"ZhiHu","sub":"2024039514841812992","aud":["ZhiHu"],"exp":1771410799,"nbf":1771403599,"iat":1771403599,"jti":"2024039514841812992"}}}
{"level":"INFO","time":"2026-02-18 16:35:03.563","caller":"Message/hub.go:132","msg":"用户上线","username":"test1"}
{"level":"ERROR","time":"2026-02-18 16:35:26.936","caller":"Message/client.go:68","msg":"只有相互关注的用户才能发送消息","stacktrace":"zhihu/app/api/internal/service/Message.(*Client).ReadPump\n\tD:/Go/LanshanWinterProject/app/api/internal/service/Message/client.go:68"}
{"level":"ERROR","time":"2026-02-18 16:36:04.905","caller":"runtime/asm_amd64.s:1693","msg":"WebSocket读取错误websocket: close 1000 (normal)","stacktrace":"runtime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1693"}
{"level":"INFO","time":"2026-02-18 16:36:04.905","caller":"Message/hub.go:134","msg":"用户下线","username":"test1"}
{"level":"ERROR","time":"2026-02-18 16:36:04.905","caller":"runtime/asm_amd64.s:1693","msg":"websocket: close sent","stacktrace":"runtime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1693"}
{"level":"ERROR","time":"2026-02-18 16:36:04.905","caller":"Message/client.go:88","msg":"close tcp 127.0.0.1:8080->127.0.0.1:52985: use of closed network connection","stacktrace":"zhihu/app/api/internal/service/Message.(*Client).WritePump\n\tD:/Go/LanshanWinterProject/app/api/internal/service/Message/client.go:88"}
{"level":"INFO","time":"2026-02-18 16:39:01.386","caller":"Auth/AuthUser.go:23","msg":"CheckToken","JWT声明:":{"name":"test1","registered_claims":{"iss":"ZhiHu","sub":"2024039514841812992","aud":["ZhiHu"],"exp":1771410799,"nbf":1771403599,"iat":1771403599,"jti":"2024039514841812992"}}}
{"level":"INFO","time":"2026-02-18 16:39:01.386","caller":"Message/hub.go:132","msg":"用户上线","username":"test1"}
{"level":"ERROR","time":"2026-02-18 16:39:03.036","caller":"Message/client.go:68","msg":"只有相互关注的用户才能发送消息","stacktrace":"zhihu/app/api/internal/service/Message.(*Client).ReadPump\n\tD:/Go/LanshanWinterProject/app/api/internal/service/Message/client.go:68"}
{"level":"ERROR","time":"2026-02-18 16:39:26.777","caller":"Sign/SignIn.go:22","msg":"ReadUser","error":"record not found","stacktrace":"zhihu/app/api/internal/service/User/Sign.Login\n\tD:/Go/LanshanWinterProject/app/api/internal/service/User/Sign/SignIn.go:22\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/Go/GoWorkstation/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tD:/Go/GoWorkstation/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/Go/GoWorkstation/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tD:/Go/GoWorkstation/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/Go/GoWorkstation/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tD:/Go/GoWorkstation/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tD:/Go/GoWorkstation/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3340\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2109"}
{"level":"ERROR","time":"2026-02-18 16:39:26.777","caller":"gin@v1.11.0/context.go:192","msg":"login","error":"record not found","stacktrace":"github.com/gin-gonic/gin.(*Context).Next\n\tD:/Go/GoWorkstation/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tD:/Go/GoWorkstation/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/Go/GoWorkstation/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tD:/Go/GoWorkstation/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/Go/GoWorkstation/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tD:/Go/GoWorkstation/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tD:/Go/GoWorkstation/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3340\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2109"}
{"level":"ERROR","time":"2026-02-18 16:40:59.888","caller":"Message/client.go:68","msg":"只有相互关注的用户才能发送消息","stacktrace":"zhihu/app/api/internal/service/Message.(*Client).ReadPump\n\tD:/Go/LanshanWinterProject/app/api/internal/service/Message/client.go:68"}
{"level":"ERROR","time":"2026-02-18 16:41:07.512","caller":"Message/client.go:68","msg":"只有相互关注的用户才能发送消息","stacktrace":"zhihu/app/api/internal/service/Message.(*Client).ReadPump\n\tD:/Go/LanshanWinterProject/app/api/internal/service/Message/client.go:68"}
{"level":"INFO","time":"2026-02-18 16:41:28.792","caller":"gin@v1.11.0/context.go:192","msg":"register success","username":"test2"}
{"level":"INFO","time":"2026-02-18 16:41:33.208","caller":"gin@v1.11.0/context.go:192","msg":"login","username":"test2","status":"success"}
{"level":"INFO","time":"2026-02-18 16:42:28.502","caller":"Auth/AuthUser.go:23","msg":"CheckToken","JWT声明:":{"name":"test2","registered_claims":{"iss":"ZhiHu","sub":"2024041584214937600","aud":["ZhiHu"],"exp":1771411293,"nbf":1771404093,"iat":1771404093,"jti":"2024041584214937600"}}}
{"level":"INFO","time":"2026-02-18 16:42:28.502","caller":"Message/hub.go:132","msg":"用户上线","username":"test2"}
{"level":"ERROR","time":"2026-02-18 16:42:47.528","caller":"runtime/asm_amd64.s:1693","msg":"WebSocket读取错误websocket: close 1000 (normal)","stacktrace":"runtime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1693"}
{"level":"INFO","time":"2026-02-18 16:42:47.528","caller":"Message/hub.go:134","msg":"用户下线","username":"test2"}
{"level":"ERROR","time":"2026-02-18 16:42:47.528","caller":"runtime/asm_amd64.s:1693","msg":"websocket: close sent","stacktrace":"runtime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1693"}
{"level":"ERROR","time":"2026-02-18 16:42:47.528","caller":"Message/client.go:88","msg":"close tcp 127.0.0.1:8080->127.0.0.1:63382: use of closed network connection","stacktrace":"zhihu/app/api/internal/service/Message.(*Client).WritePump\n\tD:/Go/LanshanWinterProject/app/api/internal/service/Message/client.go:88"}
{"level":"ERROR","time":"2026-02-18 16:42:51.123","caller":"runtime/asm_amd64.s:1693","msg":"WebSocket读取错误websocket: close 1000 (normal)","stacktrace":"runtime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1693"}
{"level":"INFO","time":"2026-02-18 16:42:51.123","caller":"Message/hub.go:134","msg":"用户下线","username":"test1"}
{"level":"ERROR","time":"2026-02-18 16:42:51.123","caller":"runtime/asm_amd64.s:1693","msg":"websocket: close sent","stacktrace":"runtime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1693"}
{"level":"ERROR","time":"2026-02-18 16:42:51.123","caller":"Message/client.go:88","msg":"close tcp 127.0.0.1:8080->127.0.0.1:61773: use of closed network connection","stacktrace":"zhihu/app/api/internal/service/Message.(*Client).WritePump\n\tD:/Go/LanshanWinterProject/app/api/internal/service/Message/client.go:88"}
{"level":"INFO","time":"2026-02-18 16:49:22.007","caller":"runtime/proc.go:285","msg":"init success"}
{"level":"INFO","time":"2026-02-18 16:49:24.424","caller":"Auth/AuthUser.go:23","msg":"CheckToken","JWT声明:":{"name":"test1","registered_claims":{"iss":"ZhiHu","sub":"2024039514841812992","aud":["ZhiHu"],"exp":1771410799,"nbf":1771403599,"iat":1771403599,"jti":"2024039514841812992"}}}
{"level":"INFO","time":"2026-02-18 16:49:24.435","caller":"gin@v1.11.0/context.go:192","msg":"OnFollow Create success","username":"test2"}
{"level":"INFO","time":"2026-02-18 16:49:24.437","caller":"runtime/asm_amd64.s:1693","msg":"push feed success","A":"test2","B":"test1"}
{"level":"INFO","time":"2026-02-18 16:49:30.854","caller":"Auth/AuthUser.go:23","msg":"CheckToken","JWT声明:":{"name":"test1","registered_claims":{"iss":"ZhiHu","sub":"2024039514841812992","aud":["ZhiHu"],"exp":1771410799,"nbf":1771403599,"iat":1771403599,"jti":"2024039514841812992"}}}
{"level":"INFO","time":"2026-02-18 16:49:47.045","caller":"Auth/AuthUser.go:23","msg":"CheckToken","JWT声明:":{"name":"test2","registered_claims":{"iss":"ZhiHu","sub":"2024041584214937600","aud":["ZhiHu"],"exp":1771411293,"nbf":1771404093,"iat":1771404093,"jti":"2024041584214937600"}}}
{"level":"INFO","time":"2026-02-18 16:49:47.050","caller":"gin@v1.11.0/context.go:192","msg":"OnFollow Create success","username":"test1"}
{"level":"INFO","time":"2026-02-18 16:49:47.058","caller":"runtime/asm_amd64.s:1693","msg":"push feed success","A":"test1","B":"test2"}
{"level":"INFO","time":"2026-02-18 16:49:56.315","caller":"Auth/AuthUser.go:23","msg":"CheckToken","JWT声明:":{"name":"test1","registered_claims":{"iss":"ZhiHu","sub":"2024039514841812992","aud":["ZhiHu"],"exp":1771410799,"nbf":1771403599,"iat":1771403599,"jti":"2024039514841812992"}}}
{"level":"INFO","time":"2026-02-18 16:49:56.316","caller":"Message/hub.go:132","msg":"用户上线","username":"test1"}
{"level":"ERROR","time":"2026-02-18 16:49:58.250","caller":"Message/client.go:68","msg":"只有相互关注的用户才能发送消息","stacktrace":"zhihu/app/api/internal/service/Message.(*Client).ReadPump\n\tD:/Go/LanshanWinterProject/app/api/internal/service/Message/client.go:68"}
{"level":"INFO","time":"2026-02-18 16:50:08.119","caller":"Message/hub.go:136","msg":"离线消息（已存库）： test1 -> test2"}
{"level":"INFO","time":"2026-02-18 16:50:22.007","caller":"Auth/AuthUser.go:23","msg":"CheckToken","JWT声明:":{"name":"test2","registered_claims":{"iss":"ZhiHu","sub":"2024041584214937600","aud":["ZhiHu"],"exp":1771411293,"nbf":1771404093,"iat":1771404093,"jti":"2024041584214937600"}}}
{"level":"INFO","time":"2026-02-18 16:50:22.007","caller":"Message/hub.go:132","msg":"用户上线","username":"test2"}
{"level":"INFO","time":"2026-02-18 16:50:22.012","caller":"runtime/asm_amd64.s:1693","msg":"推送离线消息成功","Receiver":"test2"}
{"level":"INFO","time":"2026-02-18 16:50:54.550","caller":"Message/hub.go:136","msg":"实时消息： test2 -> test1"}
{"level":"ERROR","time":"2026-02-18 16:51:19.697","caller":"runtime/asm_amd64.s:1693","msg":"WebSocket读取错误websocket: close 1000 (normal)","stacktrace":"runtime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1693"}
{"level":"INFO","time":"2026-02-18 16:51:19.697","caller":"Message/hub.go:134","msg":"用户下线","username":"test1"}
{"level":"ERROR","time":"2026-02-18 16:51:19.697","caller":"runtime/asm_amd64.s:1693","msg":"websocket: close sent","stacktrace":"runtime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1693"}
{"level":"ERROR","time":"2026-02-18 16:51:19.697","caller":"Message/client.go:88","msg":"close tcp 127.0.0.1:8080->127.0.0.1:50178: use of closed network connection","stacktrace":"zhihu/app/api/internal/service/Message.(*Client).WritePump\n\tD:/Go/LanshanWinterProject/app/api/internal/service/Message/client.go:88"}
{"level":"INFO","time":"2026-02-18 17:12:42.988","caller":"runtime/proc.go:285","msg":"init success"}
{"level":"INFO","time":"2026-02-18 17:12:47.723","caller":"Auth/AuthUser.go:23","msg":"CheckToken","JWT声明:":{"name":"test1","registered_claims":{"iss":"ZhiHu","sub":"2024039514841812992","aud":["ZhiHu"],"exp":1771410799,"nbf":1771403599,"iat":1771403599,"jti":"2024039514841812992"}}}
{"level":"INFO","time":"2026-02-18 17:12:47.724","caller":"Message/hub.go:127","msg":"用户上线","username":"test1"}
{"level":"INFO","time":"2026-02-18 17:12:47.731","caller":"runtime/asm_amd64.s:1693","msg":"推送离线消息成功","Receiver":"test1"}
{"level":"INFO","time":"2026-02-18 17:12:56.580","caller":"Auth/AuthUser.go:23","msg":"CheckToken","JWT声明:":{"name":"test2","registered_claims":{"iss":"ZhiHu","sub":"2024041584214937600","aud":["ZhiHu"],"exp":1771411293,"nbf":1771404093,"iat":1771404093,"jti":"2024041584214937600"}}}
{"level":"INFO","time":"2026-02-18 17:12:56.580","caller":"Message/hub.go:127","msg":"用户上线","username":"test2"}
{"level":"INFO","time":"2026-02-18 17:13:11.840","caller":"Message/hub.go:131","msg":"实时消息： test1 -> test2"}
{"level":"INFO","time":"2026-02-18 17:13:33.365","caller":"Message/hub.go:131","msg":"实时消息： test2 -> test1"}
{"level":"INFO","time":"2026-02-18 17:13:42.213","caller":"Message/hub.go:131","msg":"实时消息： test1 -> test2"}
{"level":"INFO","time":"2026-02-18 17:14:04.984","caller":"Message/hub.go:131","msg":"实时消息： test2 -> test1"}
{"level":"ERROR","time":"2026-02-18 17:14:14.126","caller":"runtime/asm_amd64.s:1693","msg":"WebSocket读取错误websocket: close 1000 (normal)","stacktrace":"runtime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1693"}
{"level":"INFO","time":"2026-02-18 17:14:14.126","caller":"Message/hub.go:129","msg":"用户下线","username":"test2"}
{"level":"ERROR","time":"2026-02-18 17:14:14.126","caller":"runtime/asm_amd64.s:1693","msg":"websocket: close sent","stacktrace":"runtime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1693"}
{"level":"ERROR","time":"2026-02-18 17:14:14.126","caller":"Message/client.go:95","msg":"close tcp 127.0.0.1:8080->127.0.0.1:60018: use of closed network connection","stacktrace":"zhihu/app/api/internal/service/Message.(*Client).WritePump\n\tD:/Go/LanshanWinterProject/app/api/internal/service/Message/client.go:95"}
{"level":"INFO","time":"2026-02-18 17:14:23.636","caller":"Message/hub.go:131","msg":"离线消息（已存库）： test1 -> test2"}
{"level":"INFO","time":"2026-02-18 17:14:28.440","caller":"Auth/AuthUser.go:23","msg":"CheckToken","JWT声明:":{"name":"test2","registered_claims":{"iss":"ZhiHu","sub":"2024041584214937600","aud":["ZhiHu"],"exp":1771411293,"nbf":1771404093,"iat":1771404093,"jti":"2024041584214937600"}}}
{"level":"INFO","time":"2026-02-18 17:14:28.440","caller":"Message/hub.go:127","msg":"用户上线","username":"test2"}
{"level":"INFO","time":"2026-02-18 17:14:28.451","caller":"runtime/asm_amd64.s:1693","msg":"推送离线消息成功","Receiver":"test2"}
{"level":"ERROR","time":"2026-02-18 17:14:54.631","caller":"runtime/asm_amd64.s:1693","msg":"WebSocket读取错误websocket: close 1000 (normal)","stacktrace":"runtime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1693"}
{"level":"ERROR","time":"2026-02-18 17:14:54.632","caller":"runtime/asm_amd64.s:1693","msg":"websocket: close sent","stacktrace":"runtime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1693"}
{"level":"INFO","time":"2026-02-18 17:14:54.632","caller":"Message/hub.go:129","msg":"用户下线","username":"test1"}
{"level":"ERROR","time":"2026-02-18 17:14:54.632","caller":"Message/client.go:95","msg":"close tcp 127.0.0.1:8080->127.0.0.1:57138: use of closed network connection","stacktrace":"zhihu/app/api/internal/service/Message.(*Client).WritePump\n\tD:/Go/LanshanWinterProject/app/api/internal/service/Message/client.go:95"}
{"level":"INFO","time":"2026-02-18 17:23:05.088","caller":"runtime/proc.go:285","msg":"init success"}
{"level":"INFO","time":"2026-02-18 17:23:10.688","caller":"Auth/AuthUser.go:23","msg":"CheckToken","JWT声明:":{"name":"test1","registered_claims":{"iss":"ZhiHu","sub":"2024039514841812992","aud":["ZhiHu"],"exp":1771410799,"nbf":1771403599,"iat":1771403599,"jti":"2024039514841812992"}}}
{"level":"INFO","time":"2026-02-18 17:23:10.689","caller":"Message/hub.go:130","msg":"用户上线","username":"test1"}
{"level":"INFO","time":"2026-02-18 17:23:10.689","caller":"runtime/asm_amd64.s:1693","msg":"开始推送离线消息","Receiver":"test1","Count":2}
{"level":"INFO","time":"2026-02-18 17:23:10.720","caller":"runtime/asm_amd64.s:1693","msg":"推送离线消息成功","Receiver":"test1"}
{"level":"ERROR","time":"2026-02-18 17:23:23.655","caller":"runtime/asm_amd64.s:1693","msg":"WebSocket读取错误websocket: close 1000 (normal)","stacktrace":"runtime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1693"}
{"level":"INFO","time":"2026-02-18 17:23:23.655","caller":"Message/hub.go:132","msg":"用户下线","username":"test1"}
{"level":"ERROR","time":"2026-02-18 17:23:23.655","caller":"runtime/asm_amd64.s:1693","msg":"websocket: close sent","stacktrace":"runtime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1693"}
{"level":"ERROR","time":"2026-02-18 17:23:23.655","caller":"Message/client.go:95","msg":"close tcp 127.0.0.1:8080->127.0.0.1:60253: use of closed network connection","stacktrace":"zhihu/app/api/internal/service/Message.(*Client).WritePump\n\tD:/Go/LanshanWinterProject/app/api/internal/service/Message/client.go:95"}
{"level":"INFO","time":"2026-02-18 17:23:25.084","caller":"Auth/AuthUser.go:23","msg":"CheckToken","JWT声明:":{"name":"test1","registered_claims":{"iss":"ZhiHu","sub":"2024039514841812992","aud":["ZhiHu"],"exp":1771410799,"nbf":1771403599,"iat":1771403599,"jti":"2024039514841812992"}}}
{"level":"INFO","time":"2026-02-18 17:23:25.084","caller":"Message/hub.go:130","msg":"用户上线","username":"test1"}
{"level":"INFO","time":"2026-02-18 17:23:30.509","caller":"Auth/AuthUser.go:23","msg":"CheckToken","JWT声明:":{"name":"test2","registered_claims":{"iss":"ZhiHu","sub":"2024041584214937600","aud":["ZhiHu"],"exp":1771411293,"nbf":1771404093,"iat":1771404093,"jti":"2024041584214937600"}}}
{"level":"INFO","time":"2026-02-18 17:23:30.509","caller":"Message/hub.go:130","msg":"用户上线","username":"test2"}
{"level":"INFO","time":"2026-02-18 17:23:41.164","caller":"Message/hub.go:134","msg":"实时消息： test2 -> test1"}
{"level":"INFO","time":"2026-02-18 17:23:56.721","caller":"Message/hub.go:134","msg":"实时消息： test1 -> test2"}
{"level":"INFO","time":"2026-02-18 17:24:09.451","caller":"Message/hub.go:134","msg":"实时消息： test2 -> test1"}
{"level":"ERROR","time":"2026-02-18 17:24:14.908","caller":"runtime/asm_amd64.s:1693","msg":"WebSocket读取错误websocket: close 1000 (normal)","stacktrace":"runtime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1693"}
{"level":"INFO","time":"2026-02-18 17:24:14.908","caller":"Message/hub.go:132","msg":"用户下线","username":"test2"}
{"level":"ERROR","time":"2026-02-18 17:24:14.908","caller":"runtime/asm_amd64.s:1693","msg":"websocket: close sent","stacktrace":"runtime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1693"}
{"level":"ERROR","time":"2026-02-18 17:24:14.908","caller":"Message/client.go:95","msg":"close tcp 127.0.0.1:8080->127.0.0.1:63435: use of closed network connection","stacktrace":"zhihu/app/api/internal/service/Message.(*Client).WritePump\n\tD:/Go/LanshanWinterProject/app/api/internal/service/Message/client.go:95"}
{"level":"INFO","time":"2026-02-18 17:24:28.276","caller":"Message/hub.go:134","msg":"离线消息（已存库）： test1 -> test2"}
{"level":"INFO","time":"2026-02-18 17:24:36.529","caller":"Message/hub.go:134","msg":"离线消息（已存库）： test1 -> test2"}
{"level":"INFO","time":"2026-02-18 17:24:52.659","caller":"Message/hub.go:134","msg":"离线消息（已存库）： test1 -> test2"}
{"level":"INFO","time":"2026-02-18 17:25:01.457","caller":"Message/hub.go:134","msg":"离线消息（已存库）： test1 -> test2"}
{"level":"INFO","time":"2026-02-18 17:25:05.064","caller":"Auth/AuthUser.go:23","msg":"CheckToken","JWT声明:":{"name":"test2","registered_claims":{"iss":"ZhiHu","sub":"2024041584214937600","aud":["ZhiHu"],"exp":1771411293,"nbf":1771404093,"iat":1771404093,"jti":"2024041584214937600"}}}
{"level":"INFO","time":"2026-02-18 17:25:05.064","caller":"Message/hub.go:130","msg":"用户上线","username":"test2"}
{"level":"INFO","time":"2026-02-18 17:25:05.065","caller":"runtime/asm_amd64.s:1693","msg":"开始推送离线消息","Receiver":"test2","Count":5}
{"level":"INFO","time":"2026-02-18 17:25:05.127","caller":"runtime/asm_amd64.s:1693","msg":"推送离线消息成功","Receiver":"test2"}
{"level":"INFO","time":"2026-02-18 17:25:18.233","caller":"Message/hub.go:134","msg":"实时消息： test2 -> test1"}
{"level":"INFO","time":"2026-02-18 17:26:28.338","caller":"runtime/proc.go:285","msg":"init success"}
{"level":"INFO","time":"2026-02-18 17:26:32.582","caller":"Auth/AuthUser.go:23","msg":"CheckToken","JWT声明:":{"name":"test2","registered_claims":{"iss":"ZhiHu","sub":"2024041584214937600","aud":["ZhiHu"],"exp":1771411293,"nbf":1771404093,"iat":1771404093,"jti":"2024041584214937600"}}}
{"level":"INFO","time":"2026-02-18 17:26:32.583","caller":"Message/hub.go:130","msg":"用户上线","username":"test2"}
{"level":"INFO","time":"2026-02-18 17:26:38.636","caller":"Auth/AuthUser.go:23","msg":"CheckToken","JWT声明:":{"name":"test1","registered_claims":{"iss":"ZhiHu","sub":"2024039514841812992","aud":["ZhiHu"],"exp":1771410799,"nbf":1771403599,"iat":1771403599,"jti":"2024039514841812992"}}}
{"level":"INFO","time":"2026-02-18 17:26:38.636","caller":"Message/hub.go:130","msg":"用户上线","username":"test1"}
{"level":"INFO","time":"2026-02-18 17:26:38.637","caller":"runtime/asm_amd64.s:1693","msg":"开始推送离线消息","Receiver":"test1","Count":3}
{"level":"INFO","time":"2026-02-18 17:26:38.679","caller":"runtime/asm_amd64.s:1693","msg":"推送离线消息成功","Receiver":"test1"}
{"level":"INFO","time":"2026-02-18 17:27:16.888","caller":"Message/hub.go:134","msg":"实时消息： test1 -> test2"}
{"level":"INFO","time":"2026-02-18 17:28:46.170","caller":"Auth/AuthUser.go:23","msg":"CheckToken","JWT声明:":{"name":"test1","registered_claims":{"iss":"ZhiHu","sub":"2024039514841812992","aud":["ZhiHu"],"exp":1771410799,"nbf":1771403599,"iat":1771403599,"jti":"2024039514841812992"}}}
{"level":"ERROR","time":"2026-02-18 17:28:50.636","caller":"Message/client.go:75","msg":"只有相互关注的用户才能发送消息","stacktrace":"zhihu/app/api/internal/service/Message.(*Client).ReadPump\n\tD:/Go/LanshanWinterProject/app/api/internal/service/Message/client.go:75"}
{"level":"ERROR","time":"2026-02-18 17:29:04.522","caller":"Message/client.go:75","msg":"只有相互关注的用户才能发送消息","stacktrace":"zhihu/app/api/internal/service/Message.(*Client).ReadPump\n\tD:/Go/LanshanWinterProject/app/api/internal/service/Message/client.go:75"}
{"level":"ERROR","time":"2026-02-18 17:29:19.773","caller":"Message/client.go:75","msg":"只有相互关注的用户才能发送消息","stacktrace":"zhihu/app/api/internal/service/Message.(*Client).ReadPump\n\tD:/Go/LanshanWinterProject/app/api/internal/service/Message/client.go:75"}
{"level":"INFO","time":"2026-02-18 17:30:36.573","caller":"runtime/proc.go:285","msg":"init success"}
{"level":"INFO","time":"2026-02-18 17:30:40.621","caller":"Auth/AuthUser.go:23","msg":"CheckToken","JWT声明:":{"name":"test1","registered_claims":{"iss":"ZhiHu","sub":"2024039514841812992","aud":["ZhiHu"],"exp":1771410799,"nbf":1771403599,"iat":1771403599,"jti":"2024039514841812992"}}}
{"level":"INFO","time":"2026-02-18 17:30:40.621","caller":"Message/hub.go:130","msg":"用户上线","username":"test1"}
{"level":"ERROR","time":"2026-02-18 17:30:42.951","caller":"Message/client.go:75","msg":"不要自言自语了，快去找人聊天吧！","stacktrace":"zhihu/app/api/internal/service/Message.(*Client).ReadPump\n\tD:/Go/LanshanWinterProject/app/api/internal/service/Message/client.go:75"}
{"level":"WARN","time":"2026-02-18 17:30:57.570","caller":"Auth/AuthUser.go:23","msg":"CheckToken","error":"token has invalid claims: token is expired"}
{"level":"INFO","time":"2026-02-18 17:31:11.194","caller":"Auth/AuthUser.go:23","msg":"CheckToken","JWT声明:":{"name":"test1","registered_claims":{"iss":"ZhiHu","sub":"2024039514841812992","aud":["ZhiHu"],"exp":1771410799,"nbf":1771403599,"iat":1771403599,"jti":"2024039514841812992"}}}
{"level":"INFO","time":"2026-02-18 17:31:30.269","caller":"Message/hub.go:134","msg":"离线消息（已存库）： test1 -> test2"}
{"level":"INFO","time":"2026-02-18 17:31:34.855","caller":"Auth/AuthUser.go:23","msg":"CheckToken","JWT声明:":{"name":"test2","registered_claims":{"iss":"ZhiHu","sub":"2024041584214937600","aud":["ZhiHu"],"exp":1771411293,"nbf":1771404093,"iat":1771404093,"jti":"2024041584214937600"}}}
{"level":"INFO","time":"2026-02-18 17:31:34.855","caller":"Message/hub.go:130","msg":"用户上线","username":"test2"}
{"level":"INFO","time":"2026-02-18 17:31:34.856","caller":"runtime/asm_amd64.s:1693","msg":"开始推送离线消息","Receiver":"test2","Count":2}
{"level":"INFO","time":"2026-02-18 17:31:34.880","caller":"runtime/asm_amd64.s:1693","msg":"推送离线消息成功","Receiver":"test2"}
{"level":"INFO","time":"2026-02-18 17:31:47.065","caller":"Message/hub.go:134","msg":"实时消息： test2 -> test1"}
{"level":"ERROR","time":"2026-02-18 17:31:52.983","caller":"runtime/asm_amd64.s:1693","msg":"WebSocket读取错误websocket: close 1000 (normal)","stacktrace":"runtime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1693"}
{"level":"INFO","time":"2026-02-18 17:31:52.983","caller":"Message/hub.go:132","msg":"用户下线","username":"test2"}
{"level":"ERROR","time":"2026-02-18 17:31:52.983","caller":"runtime/asm_amd64.s:1693","msg":"websocket: close sent","stacktrace":"runtime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1693"}
{"level":"ERROR","time":"2026-02-18 17:31:52.983","caller":"Message/client.go:95","msg":"close tcp 127.0.0.1:8080->127.0.0.1:63866: use of closed network connection","stacktrace":"zhihu/app/api/internal/service/Message.(*Client).WritePump\n\tD:/Go/LanshanWinterProject/app/api/internal/service/Message/client.go:95"}
{"level":"INFO","time":"2026-02-18 17:32:06.402","caller":"Message/hub.go:134","msg":"离线消息（已存库）： test1 -> test2"}
{"level":"INFO","time":"2026-02-18 17:32:10.212","caller":"Auth/AuthUser.go:23","msg":"CheckToken","JWT声明:":{"name":"test2","registered_claims":{"iss":"ZhiHu","sub":"2024041584214937600","aud":["ZhiHu"],"exp":1771411293,"nbf":1771404093,"iat":1771404093,"jti":"2024041584214937600"}}}
{"level":"INFO","time":"2026-02-18 17:32:10.212","caller":"Message/hub.go:130","msg":"用户上线","username":"test2"}
{"level":"INFO","time":"2026-02-18 17:32:10.213","caller":"runtime/asm_amd64.s:1693","msg":"开始推送离线消息","Receiver":"test2","Count":1}
{"level":"INFO","time":"2026-02-18 17:32:10.234","caller":"runtime/asm_amd64.s:1693","msg":"推送离线消息成功","Receiver":"test2"}
{"level":"ERROR","time":"2026-02-18 17:32:13.592","caller":"runtime/asm_amd64.s:1693","msg":"WebSocket读取错误websocket: close 1000 (normal)","stacktrace":"runtime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1693"}
{"level":"INFO","time":"2026-02-18 17:32:13.592","caller":"Message/hub.go:132","msg":"用户下线","username":"test2"}
{"level":"ERROR","time":"2026-02-18 17:32:13.592","caller":"runtime/asm_amd64.s:1693","msg":"websocket: close sent","stacktrace":"runtime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1693"}
{"level":"ERROR","time":"2026-02-18 17:32:13.592","caller":"Message/client.go:95","msg":"close tcp 127.0.0.1:8080->127.0.0.1:54815: use of closed network connection","stacktrace":"zhihu/app/api/internal/service/Message.(*Client).WritePump\n\tD:/Go/LanshanWinterProject/app/api/internal/service/Message/client.go:95"}
{"level":"ERROR","time":"2026-02-18 17:32:16.096","caller":"runtime/asm_amd64.s:1693","msg":"WebSocket读取错误websocket: close 1000 (normal)","stacktrace":"runtime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1693"}
{"level":"INFO","time":"2026-02-18 17:32:16.096","caller":"Message/hub.go:132","msg":"用户下线","username":"test1"}
{"level":"ERROR","time":"2026-02-18 17:32:16.096","caller":"runtime/asm_amd64.s:1693","msg":"websocket: close sent","stacktrace":"runtime.goexit\n\tC:/Program Files/Go/src/runtime/asm_amd64.s:1693"}
{"level":"ERROR","time":"2026-02-18 17:32:16.096","caller":"Message/client.go:95","msg":"close tcp 127.0.0.1:8080->127.0.0.1:54602: use of closed network connection","stacktrace":"zhihu/app/api/internal/service/Message.(*Client).WritePump\n\tD:/Go/LanshanWinterProject/app/api/internal/service/Message/client.go:95"}
